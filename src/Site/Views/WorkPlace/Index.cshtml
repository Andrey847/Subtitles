@{
	ViewData["Title"] = "Home Page";
}

@using SubtitlesLearn.Logic.Entities;


@section Css
	{
	<link rel="stylesheet" href="~/css/MainPage.css" asp-append-version="true" />
}

@section Scripts
	{
	<script src="~/js/signalr.min.js" asp-append-version="true"></script>
	<script src="~/js/MainPage.js" asp-append-version="true"></script>
}

<div class="row">
	<div class="col-sm-6" id="dvUploadArea"
		 ondragenter="fileDragEnter(event);"
		 ondragleave="fileDragLeave(event);"
		 ondrop="fileDropped(event);"
		 ondragover="allowDrop(event)">
		<button type="button" class="btn btn-waiter-hidden" id="btnRefresh" onclick="loadWords();">
			<span>Refresh</span>
			<img id="imgRefreshWaiter" class="srt-waiter" />
		</button>
		<button type="button" class="btn" id="btnUndo" onclick="performUndo();" disabled>
			Undo
		</button>
		<div class="srt-file">

			<button type="button" id="btnUpload" class="btn" onclick="fileChooseClick(event);" title="">Upload</button>

			<input id="flUpload" type="file" onchange="uploadSrt(event.currentTarget.files);" />
			<img id="imgUploadWaiter" class="srt-waiter" style="display: none;" />
		</div>

	</div>
	<div class="col-sm-1">
		<span>Movie:</span>
	</div>
	<div class="col-sm-3">
		<select id="cmbMovie" class="form-control" onchange="loadWords();">
			<option value="0" selected>[All]</option>

			@foreach (Movie movie in ViewBag.Movies)
			{
				<option value="@movie.Id">@movie.Name</option>
			}
		</select>
	</div>

	<div class="col-sm-1">
		<div id="btnRenameMovie" title="Rename movie" onclick="renameMovieDialog();" class="div-btn">
			<img />
		</div>

		<div id="btnDeleteMovie" title="Delete movie" onclick="deleteMovie()" class="div-btn">
			<img />
		</div>
	</div>
</div>
<hr />
<div class="container" id="dvWords"></div>

<audio id="wordPlayer">
	<source id="srcWordWav" type="audio/wav">
</audio>

@* Rename movie popup *@
@{
	await Html.RenderPartialAsync("~/Views/WorkPlace/MovieRename.cshtml");
}
